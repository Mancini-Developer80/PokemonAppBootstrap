const pokemonRepository=function(){let e=[];function t(){let e=document.createElement("div");e.id="loadingMessage",e.innerText="Loading...",document.body.appendChild(e)}function n(){let e=document.getElementById("loadingMessage");e&&document.body.removeChild(e)}function o(t){"object"==typeof t&&t.hasOwnProperty("name")&&t.hasOwnProperty("url")?e.push(t):alert("this is not an pokemon object!!")}function i(e){return t(),fetch(e.url).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,n()}).catch(function(e){console.error(e),n()})}function r(){return e}function l(t,n){return e.filter(e=>"types"===t?e[t].includes(n):"name"===t?e[t].toLowerCase().includes(n.toLowerCase()):e[t]===n)}function a(e){let t=document.querySelector(".pokemon-app"),n=document.createElement("ul"),o=document.createElement("li"),i=document.createElement("h2"),r=document.createElement("h3"),l=document.createElement("button");l.addEventListener("click",function(){c(e)}),n.classList.add("list-group"),o.classList.add("list-group-item","d-flex","justify-content-between","align-items-center","flex-column","border-bottom","p-3","w-50"),l.classList.add("btn","btn-primary"),l.innerText="Click Here",i.innerText=e.name[0].toUpperCase()+e.name.slice(1),r.innerText=e.url,o.appendChild(i),n.appendChild(o),t.appendChild(o).appendChild(l)}function c(e){i(e).then(function(){console.log(e);let t=document.getElementById("pokemonTitle"),n=document.getElementById("pokemonHeight"),o=document.getElementById("pokemonImage");t.innerText=e.name[0].toUpperCase()+e.name.slice(1),n.innerText="Height: "+e.height,o.setAttribute("src",e.imageUrl);let i=new bootstrap.Modal(document.getElementById("pokemonModal"),{keyboard:!0});i.show()})}return document.getElementById("searchInput").addEventListener("input",function(e){let t=e.target.value,n=l("name",t);!function e(t){let n=document.querySelector(".pokemon-app");n.innerHTML="",t.forEach(function(e){a(e)})}(n)}),{add:o,getAll:r,filter:l,addListItem:a,LoadList:function e(){return t(),fetch("https://pokeapi.co/api/v2/pokemon?limit=100").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,url:e.url})}),n()}).catch(function(e){console.error(e),n()})},loadDetails:i,showDetails:c}}();pokemonRepository.LoadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});